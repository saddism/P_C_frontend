{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport axios from 'axios';\nconst BASE_URL = 'https://auth-api-nvdempim.fly.dev';\nexport const isMockMode = () => {\n  return new URLSearchParams(window.location.search).get('mock') === '1';\n};\nexport const api = axios.create({\n  baseURL: isMockMode() ? '' : BASE_URL\n});\n\n// Add response interceptor to handle common error cases\napi.interceptors.response.use(response => response, error => {\n  if (error.response) {\n    // Return the error response for component-level handling\n    return Promise.reject(error);\n  }\n  // Network error or other issues\n  return Promise.reject(new Error('网络错误，请稍后重试'));\n});","map":{"version":3,"names":["axios","BASE_URL","isMockMode","URLSearchParams","window","location","search","get","api","create","baseURL","interceptors","response","use","error","Promise","reject","Error"],"sources":["/home/ubuntu/repos/P_C_frontend/src/utils/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://auth-api-nvdempim.fly.dev';\n\nexport const isMockMode = () => {\n  return new URLSearchParams(window.location.search).get('mock') === '1';\n};\n\nexport const api = axios.create({\n  baseURL: isMockMode() ? '' : BASE_URL\n});\n\n// Add response interceptor to handle common error cases\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response) {\n      // Return the error response for component-level handling\n      return Promise.reject(error);\n    }\n    // Network error or other issues\n    return Promise.reject(new Error('网络错误，请稍后重试'));\n  }\n);\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAG,mCAAmC;AAEpD,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAC9B,OAAO,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAACC,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG;AACxE,CAAC;AAED,OAAO,MAAMC,GAAG,GAAGR,KAAK,CAACS,MAAM,CAAC;EAC9BC,OAAO,EAAER,UAAU,CAAC,CAAC,GAAG,EAAE,GAAGD;AAC/B,CAAC,CAAC;;AAEF;AACAO,GAAG,CAACG,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC1BD,QAAQ,IAAKA,QAAQ,EACrBE,KAAK,IAAK;EACT,IAAIA,KAAK,CAACF,QAAQ,EAAE;IAClB;IACA,OAAOG,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;EAC9B;EACA;EACA,OAAOC,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,YAAY,CAAC,CAAC;AAChD,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}